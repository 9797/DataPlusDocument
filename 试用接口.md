# 试用账号注册流程
1.【前端】登陆页面在鼠标焦点离开用户名输入框时会触发失去焦点事件，当判断到用户名为 测试 时 会触发试用判断函数

* 判断localForage是否有 试用账号 key 数据，如果有，使用算法 "字符串" + key
* 
```
模拟数据
{
    time: 1505966331, // 时间戳
    key: "9e107d9d372bb6826bd81d3542a419d6" // 请求密钥
}
```
2.【后端】接收到前端申请测试账号请求判断以下步骤并返回

 * 判断数据库是否被删除或者改动过，如果存在删除或者改动情况，返回失败
 * 数据库中是否已存在 probation 账号（如果有则证明已经试用过了），返回失败
 * 判断前端发来数据中的 time 字段的时间是否与服务器时间相差过大(比如1小时)，过大则返回时钟不对错误
 * 如果前几个阶段无误，计算 前端time - 服务器time 并存为变量 salt 使用 求MD5（key + salt） 算法计算出 replyKey，将 salt 和 replyKey都存储到数据库中，然后返回成功
```
{
    err: 0,
    replyTime: 1505966331, // 服务时间戳
    replyKey: "9e107d9d372bb6826bd81d3542a419d6" // 计算好的replyKey
}
```

3.【前端】接收到后端发过来的数据执行判断

 * 服务器时间与本地时间是否相差过大，如果是 拒绝登陆
 * 将 replyKey 填入到密码框中
 * 将第一步计算出来的 time 保存到 localForage
 * 允许用户点击登陆按钮

